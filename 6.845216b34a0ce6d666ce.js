(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Uqoo:function(e,t,n){"use strict";n.r(t),n.d(t,"UserTableModule",function(){return x});var r=n("tyNb"),i=n("XNiG"),o=n("lJxs"),s=n("vkgz"),c=n("C3+9"),a=n("fXoL"),b=n("mVsE"),l=n("w58k"),u=n("1iEP"),g=n("PTRe"),h=n("C2AL"),p=n("3Pt+"),d=n("OzZK"),m=n("RwU8"),f=n("rMZv"),y=n("FwiY"),z=n("ofXK"),C=n("Nqz0");function w(e,t){1&e&&a.Mb(0,"i",10)}function v(e,t){if(1&e&&(a.Pb(0),a.Mb(1,"div",24),a.Mb(2,"div",25),a.Ob()),2&e){const e=t.ngIf;a.Bb(1),a.rc("width: ",e[0],"%"),a.Bb(1),a.rc("width: ",100-e[1],"%")}}function F(e,t){if(1&e&&(a.Rb(0,"tr"),a.Rb(1,"td"),a.wc(2),a.Qb(),a.Rb(3,"td"),a.wc(4),a.Qb(),a.Rb(5,"td"),a.wc(6),a.Qb(),a.Rb(7,"td"),a.Rb(8,"div",21),a.Mb(9,"div",22),a.uc(10,v,3,6,"ng-container",23),a.dc(11,"async"),a.Qb(),a.Qb(),a.Qb()),2&e){const e=t.$implicit,n=a.cc();a.Db("filtered",e.filtered),a.Bb(2),a.xc(e.name),a.Bb(2),a.xc(e.email),a.Bb(2),a.xc(e.state),a.Bb(3),a.rc("width: ",100*e.progress,"%"),a.Bb(1),a.ic("ngIf",a.ec(11,9,n.progressFilterValue$))}}const M=[{path:"",component:(()=>{class e{constructor(e,t,n){this.userService=e,this.inMemoryApiService=t,this.query=n,this.visible=!1,this.loading$=this.query.isLoadingTable(),this.listOfData$=this.query.getFilteredUsersWithProgress(),this.initialStateFilter=this.query.getStateFiltersAsObject(),this.filterState=c.b.map(e=>Object.assign(Object.assign({},e),{byDefault:!!this.initialStateFilter[e.value]})),this.overallFilterControl=this.query.searchFilterControl(),this.overallFilterSubs=this.overallFilterControl.valueChanges.subscribe(e=>this.query.updateSearchFilter(e.trim())),this.searchByNameControl=this.query.searchByNameControl(),this.progressFilterValue$=this.query.userFilters.selectFilters().pipe(Object(o.a)(e=>this.query.getProgressFilterValue())),this.searchAction$=new i.a,this.searchSub=this.searchAction$.pipe(Object(s.a)(e=>this.visible=!1)).subscribe(e=>this.query.updateSearchNameFilter(e)),this.reload()}onQueryParamsChange(e){e.filter&&e.filter.forEach(e=>{"state"===e.key&&this.query.updateStateFilter(new Set(e.value))})}reload(){this.userService.get().subscribe()}regenerate(){this.inMemoryApiService.generateUserTrigger.next()}identityFn(e,t){return t.id}ngOnDestroy(){this.searchSub.unsubscribe(),this.overallFilterSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(a.Lb(b.a),a.Lb(l.a),a.Lb(u.a))},e.\u0275cmp=a.Fb({type:e,selectors:[["app-user-table"]],decls:36,vars:16,consts:[[1,"filter"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Input search text",3,"formControl"],["suffixIconSearch",""],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","default","nzDanger","",3,"click"],["nzTableLayout","fixed",3,"nzLoading","nzData","nzQueryParams"],["filterTable",""],["nzCustomFilter","","nzColumnKey","name"],[3,"nzVisible","nzActive","nzDropdownMenu","nzVisibleChange"],["nz-icon","","nzType","search"],["nzColumnKey","email"],["nzColumnKey","state",3,"nzFilters","nzFilterFn"],["nzColumnKey","progress"],[3,"filtered",4,"ngFor","ngForOf","ngForTrackBy"],["menu","nzDropdownMenu"],[1,"ant-table-filter-dropdown"],[1,"search-box"],["type","text","nz-input","","placeholder","Search name",3,"formControl"],["nz-button","","nzSize","small","nzType","primary",1,"search-button",3,"click"],["nz-button","","nzSize","small",3,"click"],[1,"progress-outer"],[1,"progress-inner"],[4,"ngIf"],[1,"progress-limit-min"],[1,"progress-limit-max"]],template:function(e,t){if(1&e&&(a.Rb(0,"div",0),a.Rb(1,"nz-input-group",1),a.Mb(2,"input",2),a.Qb(),a.uc(3,w,1,0,"ng-template",null,3,a.vc),a.Qb(),a.Rb(5,"button",4),a.Zb("click",function(){return t.reload()}),a.wc(6,"Reload"),a.Qb(),a.Rb(7,"button",5),a.Zb("click",function(){return t.regenerate()}),a.wc(8,"Generate new users"),a.Qb(),a.Rb(9,"nz-table",6,7),a.Zb("nzQueryParams",function(e){return t.onQueryParamsChange(e)}),a.dc(11,"async"),a.dc(12,"async"),a.Rb(13,"thead"),a.Rb(14,"tr"),a.Rb(15,"th",8),a.wc(16," Name "),a.Rb(17,"nz-filter-trigger",9),a.Zb("nzVisibleChange",function(e){return t.visible=e}),a.Mb(18,"i",10),a.Qb(),a.Qb(),a.Rb(19,"th",11),a.wc(20,"Email"),a.Qb(),a.Rb(21,"th",12),a.wc(22,"Gender"),a.Qb(),a.Rb(23,"th",13),a.wc(24," Progress "),a.Qb(),a.Qb(),a.Qb(),a.Rb(25,"tbody"),a.uc(26,F,12,11,"tr",14),a.Qb(),a.Qb(),a.Rb(27,"nz-dropdown-menu",null,15),a.Rb(29,"div",16),a.Rb(30,"div",17),a.Mb(31,"input",18),a.Rb(32,"button",19),a.Zb("click",function(){return t.searchAction$.next(t.searchByNameControl.value)}),a.wc(33," Search "),a.Qb(),a.Rb(34,"button",20),a.Zb("click",function(){return t.searchAction$.next("")}),a.wc(35,"Reset"),a.Qb(),a.Qb(),a.Qb(),a.Qb()),2&e){const e=a.mc(4),n=a.mc(10),r=a.mc(28);a.Bb(1),a.ic("nzSuffix",e),a.Bb(1),a.ic("formControl",t.overallFilterControl),a.Bb(7),a.ic("nzLoading",a.ec(11,12,t.loading$))("nzData",a.ec(12,14,t.listOfData$)),a.Bb(8),a.ic("nzVisible",t.visible)("nzActive",t.searchByNameControl.value.length>0)("nzDropdownMenu",r),a.Bb(4),a.ic("nzFilters",t.filterState)("nzFilterFn",!0),a.Bb(5),a.ic("ngForOf",n.data)("ngForTrackBy",t.identityFn),a.Bb(5),a.ic("formControl",t.searchByNameControl)}},directives:[g.b,h.a,g.c,g.a,p.c,p.i,p.e,d.a,m.a,f.c,f.h,f.i,f.b,f.g,f.f,f.a,y.b,f.e,z.k,C.c,z.l],pipes:[z.b],styles:[".search-box[_ngcontent-%COMP%]{padding:8px}.search-box[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:188px;margin-bottom:8px;display:block}.search-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90px}.search-button[_ngcontent-%COMP%]{margin-right:8px}.progress-outer[_ngcontent-%COMP%]{background-color:#ccc;height:20px;border-radius:2px;position:relative}.progress-outer[_ngcontent-%COMP%]   .progress-inner[_ngcontent-%COMP%]{transition:width .2s;background-color:#aaa;height:100%}.progress-outer[_ngcontent-%COMP%]   .progress-limit-max[_ngcontent-%COMP%], .progress-outer[_ngcontent-%COMP%]   .progress-limit-min[_ngcontent-%COMP%]{position:absolute;top:0;height:100%;background-color:rgba(255,0,0,.1)}.progress-outer[_ngcontent-%COMP%]   .progress-limit-max[_ngcontent-%COMP%]{right:0}.progress-outer[_ngcontent-%COMP%]   .progress-limit.min[_ngcontent-%COMP%]{left:0}.filtered[_ngcontent-%COMP%]{transition:opacity .3s;opacity:.2}.filter[_ngcontent-%COMP%]{margin:0 0 16px}"]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({imports:[[r.e.forChild(M)],r.e]}),e})();var P=n("PCNd");let x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=a.Jb({type:e}),e.\u0275inj=a.Ib({imports:[[O,P.a]]}),e})()}}]);